<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>foreach code execution</title>
    <link type="text/css" rel="stylesheet" href="code.css" />
  </head>
  <body>
    <div class="body">
      <div
        style="
          width: 100%;
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
          z-index: 0;
        "
      >
        <canvas id="bg" width="100%" height="100%"></canvas>
      </div>

      <div class="settings" style="display: none">
        <label>
          Stop on
          <select id="stop_on">
            <option value="all">All</option>
            <option value="loop">Loop</option>
            <option value="loop_init">Loop init</option>
            <option value="loop_cond">Loop condition</option>
            <option value="assignment">Assignment</option>
            <option value="output">Output</option>
          </select>
        </label>
        <label>
          Step interval (ms)
          <input type="number" min="1" value="25" id="step_interval" />
        </label>

        <label>
          Jump
          <input type="number" min="0" value="0" id="jump" />
        </label>
        <button onclick="pause=false;play();">Play</button>
        <button onclick="pause=true;">Pause</button>

        <button onclick="step();">Next</button>

        <button onclick="capture();">Reset</button>
      </div>
      <div id="idle">
        <!-- <img class="bg" src="/img/mosaic.jpg" /> -->
        <div class="content">
          <div class="title">for|each</div>
          <div class="description">
            Navigate and control a filter just by:<br /><br />
            1. Taking a picture <br />
            2. Turning the wheel to control the machine
          </div>
          <div class="hand-wheel">
            <img src="./img/CrankWheel.svg" />
          </div>
        </div>
      </div>
      <div class="capture">
        <video id="webcam" style="transform: rotateY(180deg)"></video>
        <div class="timer">1</div>
      </div>
      <div id="filters" class="done">
        <div class="row" id="parent-container"></div>
      </div>

      <div id="execution">
        <div id="transformation"></div>
        <div id="code" class="box code">
          <div class="title"></div>
          <div class="content" style="padding: 0">
            <div class="lines"></div>
            <pre><code></code></pre>
          </div>
        </div>
        <div id="state-box" class="">
          <div id="state" class="content row"></div>
        </div>
      </div>
      <div id="progress">
        <div class="bar">
          <div class="fill"></div>
        </div>
        <div class="text"></div>
      </div>
    </div>
    <div id="overlay">
      <canvas width="100%" height="100%" id="canvas_overlay"></canvas>
      <div id="overlay_body" class="body"></div>
    </div>
    <script src="/js/button_map.js"></script>
    <script src="./code/bg.js"></script>
    <script src="./code/filter.js"></script>
    <script src="./code/filters/capture.js"></script>
    <script src="./code/filters/contrast.js"></script>
    <script src="./code/filters/saturation.js"></script>
    <script src="./code/utils.js"></script>

    <script src="./js/webcam.js"></script>
    <script src="./js/libraries/socket.io.min.js"></script>

    <script src="./code/CodeExecutor.js"></script>
    <script src="./code/app.js"></script>
    <script src="./code/main.js"></script>
  </body>
</html>
